name = "golden-path-demo-api"
main = "src/index.js"
compatibility_date = "2025-01-27"
compatibility_flags = ["nodejs_compat"]

# Development server configuration
[dev]
port = 8787
ip = "0.0.0.0"  # 允许局域网访问，支持 api.localhost
local_protocol = "http"

# Workers Custom Domain
# 使用子域名 api.tiga2000.com 而不是路径 /api/*
# 需要在 Cloudflare Dashboard 手动配置 Custom Domain，或通过 Terraform 管理

# Environment Variables
[vars]
ENVIRONMENT = "production"
API_VERSION = "1.0.0"
ALLOWED_ORIGINS = "https://tiga2000.com,https://api.tiga2000.com,http://localhost:5173,http://localhost:5174"

# KV Namespaces (如果需要)
# [[kv_namespaces]]
# binding = "CACHE"
# id = "your-kv-namespace-id"

# D1 Database (如果需要)
# [[d1_databases]]
# binding = "DB"
# database_name = "golden-path-demo-db"
# database_id = "your-database-id"
